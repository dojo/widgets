{"version":3,"file":"util.js","sourceRoot":"","sources":["../../../../../src/core/load/util.ts"],"names":[],"mappings":";;;;;;;;;;;;IAAA,gDAA8D;IA+B9D,kBAAyB,KAAU;QAClC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,OAAO,KAAK,CAAC,IAAI,KAAK,UAAU,CAAC;IAC3D,CAAC;IAFD,4BAEC;IAID,oBAA2B,OAAoB;QAC9C,EAAE,CAAC,CAAC,sBAAW,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YAC1B,IAAI,gBAAgB,GAAU,EAAE,CAAC;YAEjC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACzC,IAAM,QAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;gBAC1B,gBAAgB,CAAC,IAAI,CAAC,QAAM,CAAC,UAAU,IAAI,QAAM,CAAC,OAAO,CAAC,CAAC,CAAC,QAAM,CAAC,OAAO,CAAC,CAAC,CAAC,QAAM,CAAC,CAAC;YACtF,CAAC;YAED,MAAM,CAAC,gBAAgB,CAAC;QACzB,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,qBAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YAChC,IAAI,gBAAgB,GAAU,EAAE,CAAC;;gBAEjC,GAAG,CAAC,CAAiB,IAAA,YAAA,iBAAA,OAAO,CAAA,gCAAA;oBAAvB,IAAM,QAAM,oBAAA;oBAChB,gBAAgB,CAAC,IAAI,CAAC,QAAM,CAAC,UAAU,IAAI,QAAM,CAAC,OAAO,CAAC,CAAC,CAAC,QAAM,CAAC,OAAO,CAAC,CAAC,CAAC,QAAM,CAAC,CAAC;iBACrF;;;;;;;;;YAED,MAAM,CAAC,gBAAgB,CAAC;QACzB,CAAC;QAAC,IAAI,CAAC,CAAC;YACP,MAAM,CAAC,OAAO,CAAC,UAAU,IAAI,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC;QAC1E,CAAC;;IACF,CAAC;IArBD,gCAqBC","sourcesContent":["import { isArrayLike, isIterable } from '../../shim/iterator';\nimport { Load } from '../load';\n\nexport interface LoadPlugin<T> {\n\t/**\n\t * An optional method that normmalizes a resource id.\n\t *\n\t * @param resourceId\n\t * The raw resource id.\n\t *\n\t * @param resolver\n\t * A method that can resolve an id to an absolute path. Depending on the environment, this will\n\t * usually be either `require.toUrl` or `require.resolve`.\n\t */\n\tnormalize?: (resourceId: string, resolver: (resourceId: string) => string) => string;\n\n\t/**\n\t * A method that loads the specified resource.\n\t *\n\t * @param resourceId\n\t * The id of the resource to load.\n\t *\n\t * @param load\n\t * The `load` method that was used to load and execute the plugin.\n\t *\n\t * @return\n\t * A promise that resolves to the loaded resource.\n\t */\n\tload(resourceId: string, load: Load): Promise<T>;\n}\n\nexport function isPlugin(value: any): value is LoadPlugin<any> {\n\treturn Boolean(value) && typeof value.load === 'function';\n}\n\nexport function useDefault(modules: any[]): any[];\nexport function useDefault(module: any): any;\nexport function useDefault(modules: any | any[]): any[] | any {\n\tif (isArrayLike(modules)) {\n\t\tlet processedModules: any[] = [];\n\n\t\tfor (let i = 0; i < modules.length; i++) {\n\t\t\tconst module = modules[i];\n\t\t\tprocessedModules.push(module.__esModule && module.default ? module.default : module);\n\t\t}\n\n\t\treturn processedModules;\n\t} else if (isIterable(modules)) {\n\t\tlet processedModules: any[] = [];\n\n\t\tfor (const module of modules) {\n\t\t\tprocessedModules.push(module.__esModule && module.default ? module.default : module);\n\t\t}\n\n\t\treturn processedModules;\n\t} else {\n\t\treturn modules.__esModule && modules.default ? modules.default : modules;\n\t}\n}\n"]}