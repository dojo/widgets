{"version":3,"file":"ProviderRegistry.mjs","sourceRoot":"","sources":["../../../../../src/core/request/ProviderRegistry.ts"],"names":[],"mappings":"AACA,OAAO,aAAuB,MAAM,kBAAkB,CAAC;AAGvD,MAAM,uBAAwB,SAAQ,aAAuB;IAC5D,kBAAkB,CAAC,QAAkB;QACpC,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC;IAC/B,CAAC;IAED,QAAQ,CAAC,IAA2C,EAAE,KAAe,EAAE,KAAe;QACrF,IAAI,SAAsB,CAAC;QAE3B,EAAE,CAAC,CAAC,OAAO,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC;YAC9B,SAAS,GAAG,CAAC,GAAG,EAAE,OAAO,EAAE,EAAE,CAAC,IAAI,KAAK,GAAG,CAAC;QAC5C,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,YAAY,MAAM,CAAC,CAAC,CAAC;YACnC,SAAS,GAAG,CAAC,GAAG,EAAE,OAAO,EAAE,EAAE;gBAC5B,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YACrC,CAAC,CAAC;QACH,CAAC;QAAC,IAAI,CAAC,CAAC;YACP,SAAS,GAAG,IAAI,CAAC;QAClB,CAAC;QAED,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;IAChD,CAAC;CACD;AAED,eAAe,gBAAgB,CAAC","sourcesContent":["import { Provider, ProviderTest } from './interfaces';\nimport MatchRegistry, { Test } from '../MatchRegistry';\nimport { Handle } from '../interfaces';\n\nexport class ProviderRegistry extends MatchRegistry<Provider> {\n\tsetDefaultProvider(provider: Provider) {\n\t\tthis._defaultValue = provider;\n\t}\n\n\tregister(test: string | RegExp | ProviderTest | null, value: Provider, first?: boolean): Handle {\n\t\tlet entryTest: Test | null;\n\n\t\tif (typeof test === 'string') {\n\t\t\tentryTest = (url, options) => test === url;\n\t\t} else if (test instanceof RegExp) {\n\t\t\tentryTest = (url, options) => {\n\t\t\t\treturn test ? test.test(url) : null;\n\t\t\t};\n\t\t} else {\n\t\t\tentryTest = test;\n\t\t}\n\n\t\treturn super.register(entryTest, value, first);\n\t}\n}\n\nexport default ProviderRegistry;\n"]}