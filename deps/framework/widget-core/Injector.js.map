{"version":3,"file":"Injector.js","sourceRoot":"","sources":["../../../../src/widget-core/Injector.ts"],"names":[],"mappings":";;;;;;;;;;;;IAAA,2CAA0C;IAO1C;QAAuC,oCAAyB;QAI/D,kBAAY,OAAU;YAAtB,YACC,iBAAO,SAEP;YADA,KAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;;QACzB,CAAC;QAEM,iCAAc,GAArB,UAAsB,WAAuB;YAC5C,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;QACjC,CAAC;QAEM,sBAAG,GAAV;YACC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACtB,CAAC;QAEM,sBAAG,GAAV,UAAW,OAAU;YACpB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;YACxB,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;gBACvB,IAAI,CAAC,YAAY,EAAE,CAAC;YACrB,CAAC;QACF,CAAC;QACF,eAAC;IAAD,CAAC,AAvBD,CAAuC,iBAAO,GAuB7C;IAvBY,4BAAQ;IAyBrB,kBAAe,QAAQ,CAAC","sourcesContent":["import { Evented } from '../core/Evented';\nimport { EventObject } from '../core/interfaces';\n\nexport type InjectorEventMap = {\n\tinvalidate: EventObject<'invalidate'>;\n};\n\nexport class Injector<T = any> extends Evented<InjectorEventMap> {\n\tprivate _payload: T;\n\tprivate _invalidator: undefined | (() => void);\n\n\tconstructor(payload: T) {\n\t\tsuper();\n\t\tthis._payload = payload;\n\t}\n\n\tpublic setInvalidator(invalidator: () => void) {\n\t\tthis._invalidator = invalidator;\n\t}\n\n\tpublic get(): T {\n\t\treturn this._payload;\n\t}\n\n\tpublic set(payload: T): void {\n\t\tthis._payload = payload;\n\t\tif (this._invalidator) {\n\t\t\tthis._invalidator();\n\t\t}\n\t}\n}\n\nexport default Injector;\n"]}