{"version":3,"file":"diffProperty.js","sourceRoot":"","sources":["../../../../../src/widget-core/decorators/diffProperty.ts"],"names":[],"mappings":";;;;;;;;;;;IAAA,qDAAoD;IAEpD,kCAAiC;IAEjC;;;;;;OAMG;IACH,sBACC,YAAoB,EACpB,YAAyC,EACzC,gBAA2B;QAD3B,6BAAA,EAAA,eAAqC,WAAI;QAGzC,MAAM,CAAC,iCAAe,CAAC,UAAC,MAAM,EAAE,WAAW;YAC1C,MAAM,CAAC,YAAY,CAAC,kBAAgB,YAAc,EAAE,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAC7E,MAAM,CAAC,YAAY,CAAC,wBAAwB,EAAE,YAAY,CAAC,CAAC;YAC5D,EAAE,CAAC,CAAC,gBAAgB,IAAI,WAAW,CAAC,CAAC,CAAC;gBACrC,MAAM,CAAC,YAAY,CAAC,cAAc,EAAE;oBACnC,YAAY,cAAA;oBACZ,QAAQ,EAAE,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,gBAAgB;iBAC9D,CAAC,CAAC;YACJ,CAAC;QACF,CAAC,CAAC,CAAC;IACJ,CAAC;IAfD,oCAeC;IAED,kBAAe,YAAY,CAAC","sourcesContent":["import { handleDecorator } from './handleDecorator';\nimport { DiffPropertyFunction } from './../interfaces';\nimport { auto } from './../diff';\n\n/**\n * Decorator that can be used to register a function as a specific property diff\n *\n * @param propertyName  The name of the property of which the diff function is applied\n * @param diffType      The diff type, default is DiffType.AUTO.\n * @param diffFunction  A diff function to run if diffType if DiffType.CUSTOM\n */\nexport function diffProperty(\n\tpropertyName: string,\n\tdiffFunction: DiffPropertyFunction = auto,\n\treactionFunction?: Function\n) {\n\treturn handleDecorator((target, propertyKey) => {\n\t\ttarget.addDecorator(`diffProperty:${propertyName}`, diffFunction.bind(null));\n\t\ttarget.addDecorator('registeredDiffProperty', propertyName);\n\t\tif (reactionFunction || propertyKey) {\n\t\t\ttarget.addDecorator('diffReaction', {\n\t\t\t\tpropertyName,\n\t\t\t\treaction: propertyKey ? target[propertyKey] : reactionFunction\n\t\t\t});\n\t\t}\n\t});\n}\n\nexport default diffProperty;\n"]}